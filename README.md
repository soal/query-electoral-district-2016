# Микросервис для получения избирательного округа по координатам точки

## Зависимости

- Node.js 10+
- Mongodb 3.6+
- Turf.js 6.0.1+
- Mongoose: 5.2.4+
- Restify: 7.2.1+

## Установка

1. Установить Node.js и Npm
2. Установить Mongodb
3. Cклонировать код в нужную директорию:

```bash
git clone https://github.com/soal/query-electoral-district-2016.git
```

4. Перейти в нужную директорию и установить зависимости:

```bash
cd query-electoral-district-2016
npm install
```

5. При необходимости установить переменные окружения:

  - `DB_URL` — url базы данных для подключения
  - `DB_NAME`— имя базы данных
  - `DB_PORT` — порт базы данных для подключения
  - `DB_USERNAME` — имя пользователя для авторизации в БД
  - `DB_PASSWORD` — пароль для авторизации в БД
  - `APP_PORT` — порт, который будет слушать приложение

  Либо установить значения в файле `config.json`

6. Запустить сервис:

```bash
npm start
```

Это запустит веб-сервер, который будет слушать указанный порт (по умолчанию `8080`)

## Использование

Сервис пердоставляет один метод:

```
GET /district
```

В параметрах запроса должны быть указаны координаты точки в следующем формате:
  `lng` (longitude) Долгота, принимает значения от -180 до 180 включительно
  `lat` (latitude) Широта, принимает значения от -90 до 90 включительно

```
GET /district?lng=55.44&lat=33.68740
```
